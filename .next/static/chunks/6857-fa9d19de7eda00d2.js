"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6857],{6857:function(e,t,s){s.d(t,{Z:function(){return _}});var a=s(7437),r=s(2265),n=s(7648),o=s(9376),l=s(2381),i=s(9027),d=s(2489),c=s(3448);let u=i.fC;i.xz;let m=i.h_;i.x8;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.aV,{ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});f.displayName=i.aV.displayName;let g=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(i.VY,{ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[r,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=i.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.Dx,{ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});p.displayName=i.Dx.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.dk,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=i.dk.displayName;var b=s(7760),v=s(1817),j=s(6362);function N(e){let{isOpen:t,onClose:s,onSuccess:n}=e,[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),m=async()=>{i(!0),c("");try{s();let e="https://5ece8457d962.ngrok-free.app".replace("/api",""),t=window.open("".concat(e,"/auth/instagram"),"instagram-oauth","width=600,height=700,scrollbars=yes,resizable=yes"),a=setInterval(()=>{(null==t?void 0:t.closed)&&(clearInterval(a),i(!1))},1e3),r=e=>{var s;[window.location.origin,(s="https://5ece8457d962.ngrok-free.app",void 0===s)?void 0:s.replace("/api",""),"http://localhost:5000","https://50db5a34664f.ngrok-free.app","https://1e9279d40552.ngrok-free.app","  https://5ece8457d962.ngrok-free.app"].filter(Boolean).some(t=>e.origin===t||e.origin.includes("ngrok")||e.origin.includes("localhost"))&&("INSTAGRAM_AUTH_SUCCESS"===e.data.type?(clearInterval(a),null==t||t.close(),window.removeEventListener("message",r),n(e.data.data),i(!1)):"INSTAGRAM_AUTH_ERROR"===e.data.type&&(clearInterval(a),null==t||t.close(),window.removeEventListener("message",r),c(e.data.error||"Authorization failed"),i(!1)))};window.addEventListener("message",r)}catch(e){c(e.message||"An error occurred while connecting to Instagram"),i(!1)}},f=()=>{o||(s(),c(""))};return(0,a.jsx)(u,{open:t,onOpenChange:f,children:(0,a.jsxs)(g,{className:"sm:max-w-md",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(p,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-pink-500"}),"Connect Instagram Account"]}),(0,a.jsx)(h,{children:"Connect your Instagram account using Instagram's secure OAuth authentication."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[d&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:d}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Secure Connection:"})," You'll be redirected to Instagram's official login page. We never see your Instagram password."]})}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(l.z,{type:"button",variant:"outline",onClick:f,disabled:o,className:"flex-1",children:"Cancel"}),(0,a.jsx)(l.z,{type:"button",onClick:m,disabled:o,className:"flex-1",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Connecting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Connect with Instagram"]})})]})]})]})})}var w=s(5466),y=s(3417),C=s(5805),k=s(1047),Z=s(8728),z=s(6215),I=s(5368),P=s(2369),S=s(1671),R=s(7692);let A=[{name:"Dashboard",href:"/dashboard",icon:w.Z},{name:"Posts & Reels",href:"/posts-reels",icon:y.Z},{name:"Stories",href:"/stories",icon:C.Z},{name:"Upcoming Post",href:"/upcoming-post",icon:k.Z},{name:"Default Setting",href:"/default-setting",icon:Z.Z},{name:"Engagement Starter",href:"/engagement-starter",icon:z.Z},{name:"Suggest More",href:"/suggest-more",icon:I.Z},{name:"Global Triggers",href:"/global-triggers",icon:Z.Z},{name:"Welcome Openers",href:"/welcome-openers",icon:y.Z},{name:"Profile",href:"/profile",icon:P.Z},{name:"Connect Account",href:"/connect-account",icon:b.Z},{name:"Pricing Plan",href:"/pricing-plan",icon:z.Z}];function _(){let e=(0,o.usePathname)(),[t,s]=(0,r.useState)(!1),[i,d]=(0,r.useState)({isConnected:!1,username:null,profilePicture:null,followersCount:0,postsCount:0,website:null,fullName:null});(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://5ece8457d962.ngrok-free.app","/instagram/status"));if(e.ok){let t=await e.json();d({isConnected:t.data.isConnected,username:t.data.username,profilePicture:t.data.profilePicture||null,followersCount:t.data.followersCount||0,postsCount:t.data.postsCount||0,website:t.data.website||null,fullName:t.data.fullName||null})}}catch(e){console.error("Failed to load Instagram status:",e)}})()},[]);let c=async()=>{try{(await fetch("".concat("https://5ece8457d962.ngrok-free.app","/instagram/disconnect"),{method:"POST",headers:{"Content-Type":"application/json"}})).ok&&d({isConnected:!1,username:null,profilePicture:null,followersCount:0,postsCount:0,website:null,fullName:null})}catch(e){console.error("Failed to disconnect Instagram:",e)}};return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col bg-sidebar border-r border-sidebar-border",children:[(0,a.jsx)("div",{className:"flex h-16 items-center border-b border-sidebar-border px-6",children:(0,a.jsxs)(n.default,{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded bg-brand flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-brand-foreground",children:"R"})}),(0,a.jsx)("span",{className:"text-lg font-bold text-sidebar-foreground",children:"ReplyRush"})]})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-4",children:A.map(t=>{let s=t.icon,r=e===t.href;return(0,a.jsxs)(n.default,{href:t.href,className:"flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(r?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[(0,a.jsx)(s,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:t.name})]},t.name)})}),(0,a.jsxs)("div",{className:"border-t border-sidebar-border p-4",children:[(0,a.jsx)("div",{className:"mb-3",children:i.isConnected?(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3 border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsxs)("div",{className:"relative",children:[i.profilePicture?(0,a.jsx)("img",{src:i.profilePicture,alt:"Profile",className:"h-10 w-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:(0,a.jsx)(S.Z,{className:"h-2 w-2 text-white"})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate",children:["@",i.username]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:i.fullName||"Instagram Connected"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3 text-xs",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:i.followersCount>1e3?"".concat((i.followersCount/1e3).toFixed(1),"K"):i.followersCount}),(0,a.jsx)("div",{className:"text-gray-500",children:"Followers"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:i.postsCount}),(0,a.jsx)("div",{className:"text-gray-500",children:"Posts"})]})]}),i.website&&(0,a.jsxs)("div",{className:"text-xs text-gray-600 mb-3",children:["\uD83C\uDF10 ",i.website]}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",onClick:c,className:"w-full justify-center text-red-600 hover:bg-red-50 text-xs",children:"Disconnect"})]}):(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2 text-purple-600"}),(0,a.jsx)("span",{className:"text-purple-700",children:"Connect Instagram"})]})}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent",asChild:!0,children:(0,a.jsxs)(n.default,{href:"/",children:[(0,a.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}),(0,a.jsx)(N,{isOpen:t,onClose:()=>s(!1),onSuccess:e=>{d({isConnected:!0,username:e.username,profilePicture:e.profilePicture||null,followersCount:e.followersCount||0,postsCount:e.postsCount||0,website:e.website||null,fullName:e.fullName||null})}})]})}},2381:function(e,t,s){s.d(t,{z:function(){return d}});var a=s(7437),r=s(2265),n=s(7495),o=s(535),l=s(3448);let i=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-brand text-brand-foreground hover:bg-brand/90 shadow-brand font-semibold","brand-outline":"border border-brand bg-transparent text-brand hover:bg-brand hover:text-brand-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:r,size:o,className:s})),ref:t,...c})});d.displayName="Button"},3448:function(e,t,s){s.d(t,{cn:function(){return n}});var a=s(1994),r=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}}]);