(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{9714:function(e,t,s){Promise.resolve().then(s.bind(s,5832))},5832:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(7437),i=s(2265),n=s(6857),r=s(6705),l=s(4084);function c(){return(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Overview"})}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(r.x1,{data:{labels:["09-01","09-02","09-04","09-06","09-08","09-10","09-12","09-14","09-16","09-18","09-20","09-22","09-24","09-26","09-28"],datasets:[{label:"Engagement",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointRadius:3,pointHoverRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1}},scales:{x:{grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:3,ticks:{stepSize:1},grid:{color:"#f1f5f9"},border:{display:!1}}}}})})]})}l.kL.register(l.uw,l.f$,l.od,l.jn,l.Dx,l.u,l.De);var d=s(5868),o=s(8335),x=s(2381);function m(e){let{title:t,posts:s,isLinked:i=!0}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SR NO"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"POST IMAGE"}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"DM SENT"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OPEN"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CLICK"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CTR"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"LINKED DATE"})]}),!i&&(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PUBLISH DATE"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTION"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===s.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:i?7:4,className:"px-4 py-12 text-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:i?"No linked posts yet":"No unlinked posts yet"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:i?"Posts will appear here once you link them":"Create some posts to see them here"})]})})}):s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.id}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsx)("img",{src:e.image,alt:"Post",className:"h-12 w-12 rounded-lg object-cover border border-gray-200",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzZaIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yNCAyOEMyNi4yMDkxIDI4IDI4IDI2LjIwOTEgMjggMjRDMjggMjEuNzkwOSAyNi4yMDkxIDIwIDI0IDIwQzIxLjc5MDkgMjAgMjAgMjEuNzkwOSAyMCAyNEMyMCAyNi4yMDkxIDIxLjc5MDkgMjggMjQgMjhaIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="}})}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.dmSent}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.open}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.click}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ctr})]}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:e.linkedDate}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})}),!i&&(0,a.jsxs)(x.z,{variant:"ghost",size:"sm",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Link"]})]})})]},e.id))})]})})]})}var g=s(3417),p=s(1723),h=s(1671);function u(){let e=e=>{switch(e){case"dm":return(0,a.jsx)(g.Z,{className:"h-5 w-5 text-blue-500"});case"story":return(0,a.jsx)(p.Z,{className:"h-5 w-5 text-orange-500"});case"setting":return(0,a.jsx)(h.Z,{className:"h-5 w-5 text-green-500"});default:return(0,a.jsx)(g.Z,{className:"h-5 w-5 text-gray-500"})}};return(0,a.jsxs)("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,type:"dm",title:"Response instantly to Instagram comments with automated DMs!",description:"Click the Link button to set up Auto DM.",time:"2h ago",status:"pending"},{id:2,type:"story",title:"Story Auto DM",description:"Respond instantly to stories comments with automated DMs! Click the Link button to set up Auto DM.",time:"4h ago",status:"pending"},{id:3,type:"setting",title:"Default Settings",description:"The default settings make it easy to set up Auto DM for new posts and streamline your workflow.",time:"6h ago",status:"pending"}].map(t=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:e(t.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:t.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:t.time}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("completed"===t.status?"bg-green-400":"bg-orange-400")})]})]})]},t.id))})]})}var j=s(7760),y=s(9322);function N(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[l,d]=(0,i.useState)(!1),[o,x]=(0,i.useState)({isConnected:!1,username:null,loading:!0}),g=async()=>{if(o.isConnected){d(!0);try{let e=await fetch("".concat("https://5ece8457d962.ngrok-free.app","/instagram/posts"));if(e.ok){let s=await e.json();if(s.success){let e=s.data.linkedPosts.map(e=>{var t,s,a,i;return{id:e.id,image:e.image,dmSent:(null===(t=e.automation)||void 0===t?void 0:t.dmSent)||0,open:(null===(s=e.automation)||void 0===s?void 0:s.open)||0,click:(null===(a=e.automation)||void 0===a?void 0:a.click)||0,ctr:(null===(i=e.automation)||void 0===i?void 0:i.ctr)||"0%",linkedDate:new Date(e.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),action:"edit"}}),a=s.data.unlinkedPosts.map(e=>({id:e.id,image:e.image,dmSent:0,open:0,click:0,ctr:"0%",linkedDate:new Date(e.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),action:"link"}));t(e),r(a)}}}catch(e){console.error("Failed to load Instagram posts:",e)}finally{d(!1)}}};return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://5ece8457d962.ngrok-free.app","/instagram/status"));if(e.ok){let t=await e.json();x({isConnected:t.data.isConnected,username:t.data.username,loading:!1})}}catch(e){console.error("Failed to load Instagram status:",e),x(e=>({...e,loading:!1}))}})()},[]),(0,i.useEffect)(()=>{o.isConnected&&!o.loading&&g()},[o.isConnected,o.loading]),(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Welcome back! Here's what's happening with your account."})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:!o.loading&&(0,a.jsx)("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg border",children:o.isConnected?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)(j.Z,{className:"h-4 w-4 text-pink-500"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["@",o.username]}),(0,a.jsx)("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:"Connected"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)(j.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Instagram not connected"})]})})})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(c,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,a.jsx)(m,{title:"Latest Linked Posts/Reels",posts:e,isLinked:!0}),(0,a.jsx)(m,{title:"Latest Unlinked Posts/Reels",posts:s,isLinked:!1})]})]})})]}),(0,a.jsx)(u,{})]})]})}}},function(e){e.O(0,[7674,622,6264,6596,6857,2971,2117,1744],function(){return e(e.s=9714)}),_N_E=e.O()}]);